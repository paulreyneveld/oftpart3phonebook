{"version":3,"sources":["components/filter.js","components/personform.js","components/person.js","services/people.js","App.js","index.js"],"names":["Filter","handleSearch","onChange","PersonForm","addPerson","newName","handleNewPerson","newNumber","handleNewNumber","onSubmit","value","type","Person","persons","newSearch","handleDelete","console","log","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","baseUrl","axios","get","then","response","data","newObject","post","delete","UserMessage","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","userMessage","setUserMessage","useEffect","peopleService","event","target","preventDefault","personObject","dummyBool","alert","newPerson","setTimeout","catch","err","concat","deletionTarget","find","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cefafe9a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({handleSearch}) => {\n    return (\n        <>\n        <label>filter on basis of: </label>\n        <input onChange={handleSearch} />\n        </>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({addPerson, newName, handleNewPerson, newNumber, handleNewNumber }) => {\n    return (\n        <form onSubmit={addPerson}>\n        <div>\n            name: <input value={newName} onChange={handleNewPerson} />\n            <br />\n            number: <input value={newNumber} onChange={handleNewNumber} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n        </form>\n    )\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Person = ({persons, newSearch, handleDelete}) => {\n    console.log(persons)\n    return (\n        <>\n        {persons\n            .filter(person => person.name.toLowerCase().includes(newSearch))\n            .map(person => <p key={person.id}> {person.name} {person.number} <button onClick={() => handleDelete(person.id)}>Delete</button> </p>)   \n        }\n        </>\n    )\n}\n\nexport default Person;","import axios from 'axios';\nconst baseUrl = 'http://localhost:3001/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n    getAll, \n    create,\n    remove\n}\n","import React, { useEffect, useState } from 'react';\nimport Filter from './components/filter';\nimport PersonForm from './components/personform';\nimport Person from './components/person';\nimport peopleService from './services/people';\nimport './index.css';\n\nconst UserMessage = ({ message }) => {\n    if (message === null) {\n        return null;\n    }\n    return (\n        <p className=\"success\">{message}</p>\n    )\n}\n\nconst App = () => {\n\n    const [ persons, setPersons ] = useState([]);\n    const [ newName, setNewName ] = useState('');\n    const [ newNumber, setNewNumber ] = useState('');\n    const [ newSearch, setNewSearch ] = useState([]);\n    const [ userMessage, setUserMessage ] = useState(null);\n\n    const getDataHook = () => {\n        peopleService\n        .getAll()\n        .then(persons => {\n            console.log(persons);\n            setPersons(persons);\n        });\n    }\n\n    useEffect(getDataHook, []);\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObject = {\n            name: newName,\n            number: newNumber,\n            id: newNumber\n        }\n\n        let dummyBool = false;\n\n        for (const person in persons) {\n            if (persons[person].name.toLowerCase() === newName.toLowerCase()) {\n                dummyBool = true;\n                break;\n            }\n            else {\n                dummyBool = false;\n            }\n        }  \n\n        if (dummyBool) {\n            alert(`${newName} already exists in phonebook`);\n        }\n\n        else {\n            peopleService\n            .create(personObject)\n            .then(newPerson => {\n                console.log(newPerson);\n                setUserMessage(`Successfully created ${newPerson.name}`);\n                setTimeout(() => setUserMessage(null), 2000);\n            })\n            .catch(err => { setUserMessage(err)});\n\n            setPersons(persons.concat(personObject));\n            setNewName('');\n        }\n        setNewNumber('');\n    }\n  \n    const handleNewPerson = (event) => {\n        setNewName(event.target.value);\n    }\n\n    const handleNewNumber = (event) => {\n        setNewNumber(event.target.value);\n    }\n\n    const handleSearch = (event) => {\n        setNewSearch(event.target.value.toLowerCase());\n    }\n\n    const deletePerson = (id) => {\n        let deletionTarget = persons.find(person => person.id === id);\n        let forSure = window.confirm(\"Delete this person?\");\n        if (forSure) {\n            peopleService.remove(id)\n              .then(response => {\n                  setPersons(persons.filter(person => person.id !== id));\n                  setUserMessage(`Successfully deleted ${deletionTarget.name}`);\n                  setTimeout(() => setUserMessage(null), 2000);\n              })\n              .catch(() => {\n                  setPersons(persons.filter(person => person.id !== id));\n              })\n        }\n    }\n\n    return (\n        <div>\n            <UserMessage message={userMessage} newName={newName} />\n            <h2>Phonebook</h2>\n            <Filter handleSearch={handleSearch} />\n            <h2>Add a new person</h2>\n            <PersonForm\n                addPerson={addPerson}\n                newName={newName}\n                handleNewPerson={handleNewPerson}\n                newNumber={newNumber}\n                handleNewNumber={handleNewNumber}\n            />\n            <h2>Numbers</h2>\n            <Person \n                persons={persons}\n                newSearch={newSearch}\n                handleDelete={deletePerson}\n            />\n        </div>\n    )\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}